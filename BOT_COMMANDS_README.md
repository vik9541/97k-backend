# ü§ñ Telegram Bot Commands Guide

**Bot:** @LavrentevViktor_bot  
**Version:** 1.0 (Fixed)  
**Date:** 15 –¥–µ–∫–∞–±—Ä—è 2025  
**Status:** ‚úÖ WORKING

---

## üìã –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥

### üìÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏ (TZ-001)

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|---------|---------|----------|
| `/add` | –ó–∞–ø—Ä–æ—Å–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–∞ | –ñ–¥—ë—Ç —Ñ–∞–π–ª –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `/files` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ | –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–∞–π–ª—ã –∏–∑ Redis |
| `/analyze` | –ê–Ω–∞–ª–∏–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ñ–∞–π–ª–∞–º |
| `/clear` | –û—á–∏—Å—Ç–∏—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ | –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã (TTL: 12h) |

### üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|---------|---------|----------|
| `/contacts` | –°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ | –ü–æ–∫–∞–∑–∞—Ç—å 10 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö |
| `/sync` | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å iCloud | –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã |

### ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|---------|---------|----------|
| `/start` | –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –º–µ–Ω—é |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º | –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ |
| `/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã | –û–±—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ |

### üìù –ó–∞–ø–∏—Å–∏

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –§–æ—Ä–º–∞—Ç |
|---------|---------|--------|
| `/meeting [–æ–ø–∏—Å–∞–Ω–∏–µ]` | –ó–∞–ø–∏—Å–∞—Ç—å –≤—Å—Ç—Ä–µ—á—É | `/meeting –í—Å—Ç—Ä–µ—á–∞ —Å –ò–≤–∞–Ω–æ–º –≤ 15:00` |
| `/task [–æ–ø–∏—Å–∞–Ω–∏–µ]` | –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É | `/task –ü–æ–∑–≤–æ–Ω–∏—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫—É` |
| `/idea [–æ–ø–∏—Å–∞–Ω–∏–µ]` | –ó–∞–ø–∏—Å–∞—Ç—å –∏–¥–µ—é | `/idea –ù–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞` |

---

## üöÄ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1Ô∏è‚É£ –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /add
–ë–æ—Ç: üìÑ –ó–∞–ø—Ä–æ—Å–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–∞
     –û—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ —Ñ–∞–π–ª –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏...

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: [–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª report.pdf]
–ë–æ—Ç: ‚úÖ –§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ!
     üìÑ –ò–º—è: report.pdf
     üìä –†–∞–∑–º–µ—Ä: 2.45 MB
     ‚è∞ –•—Ä–∞–Ω–∏–ª–∏—â–µ: 12 —á–∞—Å–æ–≤
```

### 2Ô∏è‚É£ –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /files
–ë–æ—Ç: üìã –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (3):

     1. report.pdf
        üìä –†–∞–∑–º–µ—Ä: 2.45 MB
        ‚è∞ –ó–∞–≥—Ä—É–∂–µ–Ω: 15.12.2025 10:30
        üîê TTL: 12 —á–∞—Å–æ–≤

     2. presentation.pptx
        üìä –†–∞–∑–º–µ—Ä: 5.12 MB
        ‚è∞ –ó–∞–≥—Ä—É–∂–µ–Ω: 15.12.2025 09:15
        üîê TTL: 12 —á–∞—Å–æ–≤
```

### 3Ô∏è‚É£ –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /analyze
–ë–æ—Ç: ‚è≥ –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é —Ñ–∞–π–ª—ã...

     ‚úÖ –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω
     
     üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
     1. report.pdf
        ‚Ä¢ –†–∞–∑–º–µ—Ä: 2.45 MB
        ‚Ä¢ –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 87%
     
     2. presentation.pptx
        ‚Ä¢ –†–∞–∑–º–µ—Ä: 5.12 MB
        ‚Ä¢ –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 92%
     
     üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
     ‚Ä¢ –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: 7.57 MB
     ‚Ä¢ –§–∞–π–ª–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 2
     ‚Ä¢ –í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞: < 5 —Å–µ–∫
```

### 4Ô∏è‚É£ –û—á–∏—Å—Ç–∏—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /clear
–ë–æ—Ç: ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ –æ—á–∏—â–µ–Ω–æ

     –£–¥–∞–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤: 2
     Redis: –æ—á–∏—â–µ–Ω
```

### 5Ô∏è‚É£ –ó–∞–ø–∏—Å–∞—Ç—å –≤—Å—Ç—Ä–µ—á—É

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /meeting –í—Å—Ç—Ä–µ—á–∞ —Å –í–∏–∫—Ç–æ—Ä–æ–º –≤ Zoom
–ë–æ—Ç: üìÖ –í—Å—Ç—Ä–µ—á–∞ –∑–∞–ø–∏—Å–∞–Ω–∞:
     "–í—Å—Ç—Ä–µ—á–∞ —Å –í–∏–∫—Ç–æ—Ä–æ–º –≤ Zoom"
```

### 6Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /task –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á–µ—Ç –≥–ª–∞–≤–µ
–ë–æ—Ç: ‚úÖ –ó–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞:
     "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á–µ—Ç –≥–ª–∞–≤–µ"
```

### 7Ô∏è‚É£ –ó–∞–ø–∏—Å–∞—Ç—å –∏–¥–µ—é

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /idea –ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω UI
–ë–æ—Ç: üí° –ò–¥–µ—è –∑–∞–ø–∏—Å–∞–Ω–∞:
     "–ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω UI"
```

---

## üíæ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### TZ-001 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–•—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–∞–π–ª–æ–≤:**
- Backend: **Redis**
- TTL: **12 —á–∞—Å–æ–≤** (43200 —Å–µ–∫—É–Ω–¥)
- –§–æ—Ä–º–∞—Ç: **JSON** —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- –ö–ª—é—á–∏: `file:{file_unique_id}`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞ –≤ Redis:**

```json
{
  "id": "AgACAgIAAxkBAAId2EZZO9...",
  "name": "report.pdf",
  "size": 2560000,
  "mimeType": "application/pdf",
  "fileId": "BQACAgIAAxkBAAId2EZZO9...",
  "uploadedAt": "2025-12-15T10:30:00.000Z",
  "uploadedBy": 123456789,
  "ttl": 12,
  "status": "uploaded"
}
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤

‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç—ã:**
- PDF, DOCX, TXT
- XLS, XLSX
- PPTX

‚úÖ **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
- JPG, PNG, GIF

‚úÖ **–í–∏–¥–µ–æ:**
- MP4, MOV

‚úÖ **–ê—Ä—Ö–∏–≤—ã:**
- ZIP, RAR

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 100 MB
- –í—Ä–µ–º—è —Ö—Ä–∞–Ω–µ–Ω–∏—è: 12 —á–∞—Å–æ–≤
- –ú–∞–∫—Å–∏–º—É–º —Ñ–∞–π–ª–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ: ‚àû (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç Redis –ø–∞–º—è—Ç–∏)

---

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –¢—Ä–µ–±—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# .env
TELEGRAM_BOT_TOKEN=YOUR_BOT_TOKEN_HERE
VICTOR_TELEGRAM_ID=YOUR_USER_ID_HERE
TELEGRAM_WEBHOOK_URL=https://api.97v.ru/api/telegram/webhook

REDIS_URL=redis://localhost:6379
DATABASE_URL=postgresql://user:password@localhost:5432/db
```

### 2. –ü–æ–ª—É—á–∏—Ç—å Telegram Bot Token

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ `@BotFather`
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
4. –í—ã–±–µ—Ä–∏—Ç–µ –∏–º—è –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `LavrentevViktor_bot`)
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

### 3. –ü–æ–ª—É—á–∏—Ç—å Victor's Telegram ID

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ø–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à User ID

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç

```bash
# –ó–∞–ø—É—Å–∫ NestJS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
npm run start:dev

# –ò–ª–∏ —á–µ—Ä–µ–∑ Docker
docker-compose up
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥

–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

```
[TELEGRAM] Message from 123456789: /files
[TELEGRAM] User 123456789 requested /files
[TELEGRAM] Document uploaded: report.pdf (2560000 bytes)
```

### Health Check

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞
curl http://localhost:8000/health/live

# –†–µ–∑—É–ª—å—Ç–∞—Ç
{
  "status": "ok",
  "telegram": "connected",
  "redis": "connected"
}
```

### Redis –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Redis
redis-cli

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã
KEYS file:*

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å TTL —Ñ–∞–π–ª–∞
TTL file:AgACAgIAAxkBAAId2EZZO9...

# –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë
FLUSHDB
```

---

## üêõ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### ‚ùå "–ö–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω
echo $TELEGRAM_BOT_TOKEN

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤—è–∑—å —Å API
curl https://api.telegram.org/bot$TELEGRAM_BOT_TOKEN/getMe

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker logs <container_name>
```

### ‚ùå "–§–∞–π–ª—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è"

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Redis
redis-cli ping

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
# –ú–∞–∫—Å–∏–º—É–º 100 MB

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –≤ Redis
redis-cli INFO stats
```

### ‚ùå "–û—à–∏–±–∫–∞ 401 Unauthorized"

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å VICTOR_TELEGRAM_ID
echo $VICTOR_TELEGRAM_ID

# 2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —ç—Ç–æ –≤–∞—à ID
# –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É: /start
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
```

---

## üìÖ Roadmap

### –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è ‚úÖ
- [x] /add, /files, /analyze, /clear –∫–æ–º–∞–Ω–¥—ã
- [x] Redis –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (TZ-001)
- [x] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏
- [x] –í—Å—Ç—Ä–µ—á–∏, –∑–∞–¥–∞—á–∏, –∏–¥–µ–∏

### –°–ª–µ–¥—É—é—â–∏–µ –≤–µ—Ä—Å–∏–∏ üìã
- [ ] /batch - –º–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- [ ] /export - —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- [ ] /search - –ø–æ–∏—Å–∫ –ø–æ —Ñ–∞–π–ª–∞–º
- [ ] Webhook –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- [ ] –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–ë–î –≤–º–µ—Å—Ç–æ Redis)

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:** –í–∏–∫—Ç–æ—Ä –õ–∞–≤—Ä–µ–Ω—Ç—å–µ–≤ (@vik9541)  
**Email:** info@97v.ru  
**Telegram:** @LavrentevViktor_bot  
**GitHub:** https://github.com/vik9541/97k-backend

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 15 –¥–µ–∫–∞–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ WORKING  
**TZ-001:** ‚úÖ File Storage deployed to production
